<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Videogame Dashboard</title>
    <meta
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
      name="viewport"
    />
    <link
      rel="icon"
      href="assets/img/kaiadmin/favicon.ico"
      type="image/x-icon"
    />

    <!-- Fonts and icons -->
    <script src="assets/js/plugin/webfont/webfont.min.js"></script>
    <script>
      WebFont.load({
        google: { families: ["Public Sans:300,400,500,600,700"] },
        custom: {
          families: [
            "Font Awesome 5 Solid",
            "Font Awesome 5 Regular",
            "Font Awesome 5 Brands",
            "simple-line-icons",
          ],
          urls: ["assets/css/fonts.min.css"],
        },
        active: function () {
          sessionStorage.fonts = true;
        },
      });
    </script>

    <!-- CSS Files -->
    <link rel="stylesheet" th:href="@{/assets/css/bootstrap.min.css}"/>
    <link rel="stylesheet" th:href="@{/assets/css/plugins.min.css}" />
    <link rel="stylesheet" th:href="@{/assets/css/kaiadmin.min.css}"/>

  </head>
  <body>
    <div class="wrapper">
      <!-- Sidebar -->
      <div th:insert="~{fragments/sidebar :: sidebar}"></div>
      <!-- End Sidebar -->

      <div class="main-panel">
        <div class="main-header">
          <div class="main-header-logo">
            <!-- Logo Header -->
            <div class="logo-header" data-background-color="dark">
              <a th:href="@{/index}" class="logo">
                <img
                  src="assets/img/kaiadmin/logo_light.svg"
                  alt="navbar brand"
                  class="navbar-brand"
                  height="20"
                />
              </a>
              <div class="nav-toggle">
                <button class="btn btn-toggle toggle-sidebar">
                  <i class="gg-menu-right"></i>
                </button>
                <button class="btn btn-toggle sidenav-toggler">
                  <i class="gg-menu-left"></i>
                </button>
              </div>
              <button class="topbar-toggler more">
                <i class="gg-more-vertical-alt"></i>
              </button>
            </div>
            <!-- End Logo Header -->
          </div>
          <!-- Navbar Header -->
          <header th:insert="~{fragments/header :: header}"></header>
          <!-- End Navbar -->
        </div>

        <div class="container">
          <div class="page-inner">
            <div
              class="d-flex align-items-left align-items-md-center flex-column flex-md-row pt-2 pb-4"
            >
              <div>
                <h3 class="fw-bold mb-3">Videogame Dashboard</h3>
                
              </div>
              <div class="ms-md-auto py-2 py-md-0">
                <a th:href="@{/categories/add}" class="btn btn-label-info btn-round me-2">Add Category</a>
                <a th:href="@{/studios/add}" class="btn btn-label-info btn-round me-2">Add Study</a>
                <a th:href="@{/videogames/add}" class="btn btn-primary btn-round">Add Game</a>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-6 col-md-3">
                <div class="card card-stats card-round">
                  <div class="card-body">
                    <div class="row align-items-center">
                      <div class="col-icon">
                        <div
                          class="icon-big text-center icon-primary bubble-shadow-small"
                        >
                          <i class="fas fa-users"></i>
                        </div>
                      </div>
                      <div class="col col-stats ms-3 ms-sm-0">
                        <div class="numbers">
                          <p class="card-category">All Games</p>
                          <h4 class="card-title" th:text="${cantidadVideogamess}">0</h4>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-md-3">
                <div class="card card-stats card-round">
                  <div class="card-body">
                    <div class="row align-items-center">
                      <div class="col-icon">
                        <div
                          class="icon-big text-center icon-info bubble-shadow-small"
                        >
                          <i class="fas fa-user-check"></i>
                        </div>
                      </div>
                      <div class="col col-stats ms-3 ms-sm-0">
                        <div class="numbers">
                          <p class="card-category">Game studios</p>
                          <h4 class="card-title" th:text="${studios}">0</h4>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-md-3">
                <div class="card card-stats card-round">
                  <div class="card-body">
                    <div class="row align-items-center">
                      <div class="col-icon">
                        <div
                          class="icon-big text-center icon-success bubble-shadow-small"
                        >
                          <i class="fas fa-luggage-cart"></i>
                        </div>
                      </div>
                      <div class="col col-stats ms-3 ms-sm-0">
                        <div class="numbers">
                          <p class="card-category">Categories</p>
                          <h4 class="card-title" th:text="${categories}">0</h4>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-md-3">
                <div class="card card-stats card-round">
                  <div class="card-body">
                    <div class="row align-items-center">
                      <div class="col-icon">
                        <div
                          class="icon-big text-center icon-secondary bubble-shadow-small"
                        >
                          <i class="far fa-check-circle"></i>
                        </div>
                      </div>
                      <div class="col col-stats ms-3 ms-sm-0">
                          <div class="numbers">
                              <p class="card-category">Stock restante</p>
                              <h4 class="card-title" th:text="${stockTotal}">0</h4>
                          </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <div class="card card-round">
                  <div class="card-header">
                    <div class="card-head-row card-tools-still-right">
                      <div class="card-title">Videojuegos</div>
                    </div>
                  </div>
                  <div class="card-body p-0">
                    <div class="table-responsive">
                      <!-- Projects table -->
                      <table class="table align-items-center mb-0">
                        <thead class="thead-light">
                          <tr>
                            <th scope="col">Videogame Name</th>
                            <th scope="col" class="text-end">Game Studio</th>
                            <th scope="col" class="text-end">Price</th>
                            <th scope="col" class="text-end">On Sale</th>
                            <th scope="col" class="text-end">Tags</th>
                            <th scope="col" class="text-end">Actions</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr th:each="game : ${videogameLista}">
                            <th scope="row">
                              <span th:text="${game.title}">Game Name</span>
                            </th>
                            <td class="text-end" th:text="${game.studio.name}">game studio</td>
                            <td class="text-end" th:text="${game.price}">$0.00</td>
                            <td class="text-end" th:text="${game.onSale}">True</td>
                              <td class="text-end">
                                  <span th:if="${#lists.isEmpty(game.category)}" class="text-muted">-</span>
                                  <span th:each="tag : ${game.category.name}" class="badge badge-success" th:text="${tag}">Tag</span>
                              </td>
                              <td class="text-end">
                                  <a class="btn btn-sm btn-primary" th:href="@{/videogames/{id}(id=${game.id})}">View</a>
                                  <a class="btn btn-sm btn-warning" th:href="@{/videogames/{id}/edit(id=${game.id})}">Edit</a>
                                  <a class="btn btn-sm btn-danger" th:href="@{/videogames/{id}/delete(id=${game.id})}" onclick="return confirm('¿Estás seguro que deseas eliminar este videojuego?')">Delete</a>
                              </td>
                          </tr>

                        <tr th:if="${#lists.isEmpty(videogameList)}">
                            <td colspan="5" class="text-center">No hay mas videojuegos para mostrar.</td>
                        </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
              <div class="row">
                  <div class="col-md-12">
                      <div class="card card-round">
                          <div class="card-header">
                              <div class="card-head-row card-tools-still-right">
                                  <div class="card-title">Estudios</div>
                              </div>
                          </div>
                          <div class="card-body p-0">
                              <div class="table-responsive">
                                  <table class="table align-items-center mb-0">
                                      <thead class="thead-light">
                                      <tr>
                                          <th scope="col">id</th>
                                          <th scope="col" class="text-end">Studio Name</th>
                                          <th scope="col" class="text-end">Acciones</th>
                                      </tr>
                                      </thead>
                                      <tbody>
                                      <tr th:each="studio : ${studiosList}">
                                          <th scope="row">
                                              <span th:text="${studio.id}">id</span>
                                          </th>
                                          <td class="text-end" th:text="${studio.name}">Studio Name</td>
                                          <td class="text-end">
                                              <a class="btn btn-sm btn-primary" th:href="@{/studios/{id}(id=${studio.id})}">View</a>
                                              <a class="btn btn-sm btn-warning" th:href="@{/studios/{id}/edit(id=${studio.id})}">Edit</a>
                                              <a class="btn btn-sm btn-danger" th:href="@{/studios/{id}/delete(id=${studio.id})}" onclick="return confirm('¿Estás seguro que deseas eliminar este videojuego?')">Delete</a>
                                          </td>
                                      </tr>
                                      <tr th:if="${#lists.isEmpty(studiosList)}">
                                          <td colspan="5" class="text-center">No hay mas estudios para mostrar.</td>
                                      </tr>
                                      </tbody>
                                  </table>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>

              <div class="row">
                  <div class="col-md-12">
                      <div class="card card-round">
                          <div class="card-header">
                              <div class="card-head-row card-tools-still-right">
                                  <div class="card-title">Categorias</div>
                              </div>
                          </div>
                          <div class="card-body p-0">
                              <div class="table-responsive">
                                  <table class="table align-items-center mb-0">
                                      <thead class="thead-light">
                                      <tr>
                                          <th scope="col">id</th>
                                          <th scope="col" class="text-end">Category Name</th>
                                          <th scope="col" class="text-end">Acciones</th>
                                      </tr>
                                      </thead>
                                      <tbody>
                                      <tr th:each="category : ${categoriesList}">
                                          <th scope="row">
                                              <span th:text="${category.id}">id</span>
                                          </th>
                                          <td class="text-end" th:text="${category.name}">Category Name</td>
                                          <td class="text-end">
                                              <a class="btn btn-sm btn-primary" th:href="@{/categories/{id}(id=${category.id})}">View</a>
                                              <a class="btn btn-sm btn-warning" th:href="@{/categories/{id}/edit(id=${category.id})}">Edit</a>
                                              <a class="btn btn-sm btn-danger" th:href="@{/categories/{id}/delete(id=${category.id})}" onclick="return confirm('¿Estás seguro que deseas eliminar este videojuego?')">Delete</a>
                                          </td>
                                      </tr>
                                      <tr th:if="${#lists.isEmpty(categoriesList)}">
                                          <td colspan="5" class="text-center">No hay mas categorias para mostrar.</td>
                                      </tr>
                                      </tbody>
                                  </table>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
        </div>


      </div>

    <footer th:insert="~{fragments/footer :: footer}"></footer>
    </div>
    <!--   Core JS Files   -->
    <script src="assets/js/core/jquery-3.7.1.min.js"></script>
    <script src="assets/js/core/popper.min.js"></script>
    <script src="assets/js/core/bootstrap.min.js"></script>

    <!-- jQuery Scrollbar -->
    <script src="assets/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js"></script>

    <!-- jQuery Sparkline -->
    <script src="assets/js/plugin/jquery.sparkline/jquery.sparkline.min.js"></script>

    <!-- Datatables -->
    <script src="assets/js/plugin/datatables/datatables.min.js"></script>

    <!-- Kaiadmin JS -->
    <script src="assets/js/kaiadmin.min.js"></script>
  </body>
</html>
